<section ng-controller="SetRefundController as vm">
  <div class="row">
    <div class="col-lg-12">
      <button ng-click="vm.cancel()" class="btn btn-danger btn-xs pull-right"><i class="glyphicon glyphicon-ban-circle"></i>&nbsp;Cancel</button>
    </div>
  </div>
  <form class="form-horizontal">
    <legend >Issue A Refund</legend>
    <div class="row">
      <div class="col-lg-12 text-center">
        <div>
          <div class="btn-group">
            <button type="button" class="btn btn-primary" ng-model="vm.source.description" btn-radio="'order'">Order Refund</button>
            <button type="button" class="btn btn-primary" ng-model="vm.source.description" btn-radio="'reg'">Registration Refund</button>
            <button type="button" class="btn btn-primary" ng-model="vm.source.description" btn-radio="'partial'">Partial Refund</button>
          </div>
        </div>
      </div>
    </div>
    <br>
    <div class="row">
      <div class="col-lg-12">
        <h4 class="text-center primary">A refund of the amount {{ vm.source.amount | currency }} will be issued to {{ vm.order.participant }}.</h4>
        <h3 class="text-center danger">{{vm.refundErrors}}</h3>
      </div>
    </div>
    <br>
    <div class="row">
      <div class="col-sm-8 col-offset-sm-4">
        <div class="form-group" ng-if="vm.source.description === 'partial'">
          <label for="RefundAmount" class="col-lg-6 control-label">Refund Amount:</label>
          <div class="col-lg-6">
            <div class="input-group"> <span class="input-group-addon">$</span>
              <input type="number" class="form-control" name="RefundAmount" placeholder="0.00" ng-model="vm.source.amount" />
            </div>
          </div>
        </div>
      </div>
    </div>
  </form>
  <div class="row">
    <div class="col-lg-12">
      <button class="btn btn-danger pull-right" ng-click="vm.refund()" ng-disabled="vm.refundDisabled"><em class="fa fa-warning"></em>&nbsp;Issue Refund</button>
    </div>
  </div>
</section>
